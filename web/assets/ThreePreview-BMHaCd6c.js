import{r as f,g as d,j as s,C as h,O as j,E as p}from"./three-fiber-CUtnogt7.js";import{u as y}from"./index-wVxjOD1N.js";function m({url:n}){const{scene:l}=d(n);return s.jsx("primitive",{object:l})}function x(n,l="",c=512){const i=atob(n.split(",")[1]),u=[];for(let e=0;e<i.length;e+=c){const a=i.slice(e,e+c),t=new Array(a.length);for(let o=0;o<a.length;o++)t[o]=a.charCodeAt(o);const b=new Uint8Array(t);u.push(b)}return new Blob(u,{type:l})}function v({nodeId:n,dataKey:l,width:c=512,height:i=512,...u}){const[r,e]=f.useState(null),{modelData:a}=y(),t=a[`${n}-${l}`];return f.useEffect(()=>{if(!t){e(null);return}if(t.startsWith("data:")){const b=x(t,"model/gltf-binary"),o=URL.createObjectURL(b);return e(o),()=>{URL.revokeObjectURL(o),r&&d.clear(r)}}else return e(t),()=>{r&&d.clear(r)}},[t]),s.jsx("div",{style:{position:"relative",width:c,height:i},...u,children:s.jsx(h,{style:{background:"#333333"},children:s.jsxs(f.Suspense,{fallback:null,children:[s.jsx("directionalLight",{position:[5,5,5],intensity:3}),r&&s.jsx(m,{url:r}),s.jsx(j,{}),s.jsx(p,{preset:"warehouse",background:!1})]})})})}export{v as default};
