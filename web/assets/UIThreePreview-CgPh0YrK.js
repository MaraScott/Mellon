import{r as f,g as d,j as r,C as h,O as j,E as p}from"./three-fiber-BV1ARQju.js";import{u as y}from"./index-CVsVk8Wr.js";function x({url:o}){const{scene:l}=d(o);return r.jsx("primitive",{object:l})}function m(o,l="",c=512){const i=atob(o.split(",")[1]),u=[];for(let e=0;e<i.length;e+=c){const a=i.slice(e,e+c),t=new Array(a.length);for(let n=0;n<a.length;n++)t[n]=a.charCodeAt(n);const b=new Uint8Array(t);u.push(b)}return new Blob(u,{type:l})}function v({nodeId:o,dataKey:l,width:c=512,height:i=512,...u}){const[s,e]=f.useState(null),{threeData:a}=y(),t=a[`${o}-${l}`];return f.useEffect(()=>{if(!t){e(null);return}if(t.startsWith("data:")){const b=m(t,"model/gltf-binary"),n=URL.createObjectURL(b);return e(n),()=>{URL.revokeObjectURL(n),s&&d.clear(s)}}else return e(t),()=>{s&&d.clear(s)}},[t]),r.jsx("div",{style:{position:"relative",width:c,height:i},...u,children:r.jsx(h,{style:{background:"#333333"},children:r.jsxs(f.Suspense,{fallback:null,children:[r.jsx("directionalLight",{position:[5,5,5],intensity:3}),s&&r.jsx(x,{url:s}),r.jsx(j,{}),r.jsx(p,{preset:"warehouse",background:!1})]})})})}export{v as default};
